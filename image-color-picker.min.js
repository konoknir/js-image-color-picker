var ImageColorPicker=function(e,t){var n="",a="",r=this,i=document;if(t="object"==typeof t?t:{},r.img=g(e),r.img){r.img.style.cursor="crosshair",t.canvas?r.canvas=t.canvas:(r.canvas=i.createElement("canvas"),r.img.parentNode.insertBefore(r.canvas,r.img.nextSibling)),r.canvas.style.display="none",r.preview=t.preview?g(t.preview):i.createElement("div"),r.result_hex="",r.result_rgb=[],r.result_rgb_string="";var s=t.clicked||function(){};r.img.addEventListener("click",function(e){e.offsetX?(n=e.offsetX,a=e.offsetY):e.layerX&&(n=e.layerX,a=e.layerY),c(r.canvas,r.img,function(){r.result_rgb=r.canvas.getContext("2d").getImageData(n,a,1,1).data;var e=r.result_rgb;r.result_hex=u(e[0],e[1],e[2]),r.result_rgb_string="rgb("+e[0]+","+e[1]+","+e[2]+")",s(r)})},!1),r.img.addEventListener("mousemove",function(e){e.offsetX?(n=e.offsetX,a=e.offsetY):e.layerX&&(n=e.layerX,a=e.layerY),c(r.canvas,r.img,function(){var e=r.canvas.getContext("2d").getImageData(n,a,1,1).data;r.preview.style.background=u(e[0],e[1],e[2])})},!1),c(r.canvas,r.img,function(){})}function c(e,t,n){var a,r;return r=t,((a=e).width!=r.width||a.height!=r.height)&&(e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),n()}function g(e){return i.querySelector(e)}function o(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function u(e,t,n){return"#"+o(e)+o(t)+o(n)}};