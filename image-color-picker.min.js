var ImageColorPicker=function(e,t){var r="",n="",a=this,i=document;if(t="object"==typeof t?t:{},a.img=g(e),a.img){a.img.style.cursor="crosshair",t.canvas?a.canvas=t.canvas:(a.canvas=i.createElement("canvas"),a.img.parentNode.insertBefore(a.canvas,a.img.nextSibling)),a.canvas.style.display="none",a.result_hex=t.result_hex?g(t.result_hex):i.createElement("input"),a.result_rgb=t.result_rgb?g(t.result_rgb):i.createElement("input"),a.preview=t.preview?g(t.preview):i.createElement("div"),a.result_rgb_string="";var s=t.clicked||function(){};a.img.addEventListener("click",function(e){e.offsetX?(r=e.offsetX,n=e.offsetY):e.layerX&&(r=e.layerX,n=e.layerY),c(a.canvas,a.img,function(){a.result_rgb=a.canvas.getContext("2d").getImageData(r,n,1,1).data;var e=a.result_rgb;a.result_hex=u(e[0],e[1],e[2]),a.result_rgb_string="rgb("+e[0]+","+e[1]+","+e[2]+")",s(a)})},!1),a.img.addEventListener("mousemove",function(e){e.offsetX?(r=e.offsetX,n=e.offsetY):e.layerX&&(r=e.layerX,n=e.layerY),c(a.canvas,a.img,function(){var e=a.canvas.getContext("2d").getImageData(r,n,1,1).data;a.preview.style.background=u(e[0],e[1],e[2])})},!1),c(a.canvas,a.img,function(){})}function c(e,t,r){var n,a;return a=t,((n=e).width!=a.width||n.height!=a.height)&&(e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),r()}function g(e){return document.querySelector(e)}function o(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function u(e,t,r){return"#"+o(e)+o(t)+o(r)}};